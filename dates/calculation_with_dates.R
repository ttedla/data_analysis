
# -------------------------------------------------------------------------

      # Calculations with Dates #


# -------------------------------------------------------------------------

        # Since R stores date and time objects as numbers, 
        # this allows you to perform various calculations 
        # such as logical comparisons, addition, subtraction, 
        # and working with durations .

# -------------------------------------------------------------------------

x <- Sys.Date ()
x

# -------------------------------------------------------------------------

y <- as.Date ("2015-09-11")
y

# -------------------------------------------------------------------------
x > y # logical -TRUE

# -------------------------------------------------------------------------

# to compute time difference
x - y # 3 years + 8 m, 18 d

# -------------------------------------------------------------------------

# The nice thing about the date/time classes is that they keep track of leap
# years, leap seconds, daylight savings , and time zones . Use OlsonNames () for
# a full list of acceptable time zone specifi cations.


# -------------------------------------------------------------------------

# leap year in 2012
x <- as.Date ("2012-03-1")
y <- as.Date ("2012-02-28")

# -------------------------------------------------------------------------

x-y

# -------------------------------------------------------------------------

# example with time zones
x <- as.POSIXct ("2015-09-22 01:00:00", tz = "US/Eastern")
y <- as.POSIXct ("2015-09-22 01:00:00", tz = "US/Pacific")

# -------------------------------------------------------------------------

y==x

# -------------------------------------------------------------------------

y-x

# -------------------------------------------------------------------------

            # with the lubridate package      #

# -------------------------------------------------------------------------

library(lubridate)

# -------------------------------------------------------------------------

x <- now()
x
y <- ymd("2015-09-11")
y

# -------------------------------------------------------------------------

x > y

x - y

y + days(4)
x - hours(4) 

# -------------------------------------------------------------------------

# Durations simply measure the time span between start and end dates.

# -------------------------------------------------------------------------

# create new duration (represented in seconds)
duration(60)

# -------------------------------------------------------------------------

    # create durations for minutes, hours, years

# -------------------------------------------------------------------------

dminutes(1)

# -------------------------------------------------------------------------

dhours(1)

# -------------------------------------------------------------------------

# add/subtract durations from date/time object
x <- ymd_hms ("2015-09-22 12:00:00")

# -------------------------------------------------------------------------

      # add 10 hours to x 
x + dhours(10)
  
# -------------------------------------------------------------------------
          # add 10 hrs, 33 mins and 54 sec
x + dhours(10) + dminutes(33) + dseconds(54)

# -------------------------------------------------------------------------

  
